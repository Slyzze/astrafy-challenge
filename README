Astrafy Data Challenge â€“ dbt + SQL
This repository contains my solution to the Astrafy BI Engineer challenge using dbt and BigQuery.

ğŸ“ Repository Structure
ASTRAFY-CHALLENGE/
â”œâ”€â”€ models/
â”‚ â”œâ”€â”€ staging/ # dbt staging models
â”‚ â”‚ â”œâ”€â”€ stg_orders.sql
â”‚ â”‚ â”œâ”€â”€ stg_sales.sql
â”‚ â”‚ â””â”€â”€ source.yml
â”‚ â”œâ”€â”€ marts/ # dbt intermediate logic
â”‚ â”‚ â””â”€â”€ int_segmented_orders.sql
â”‚ â”‚ â””â”€â”€ int_fill_rate_by_order.sql	
â”‚ â””â”€â”€ schema.yml # Tests & documentation
â”‚
â”œâ”€â”€ sql/ # Raw SQL notebook with analytics questions
â”‚ â””â”€â”€ exercices_challenge.sql
â”‚
â”œâ”€â”€ dbt_project.yml # dbt project config
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
bash
Copy
Edit

ğŸš€ Setup & Run
Ensure you have Python + dbt installed, and a working BigQuery profile (profiles.yml).

Install dbt
pip install dbt-bigquery

Run dbt
dbt deps
dbt run
dbt test
ğŸ“Š Business Questions (SQL)
The file sql/exercices_sql contains answers to:
Total orders in 2023
Orders per month in 2023
Avg number of products per order (monthly)
Orders with qty of products in 2022â€“2023
Client segmentation (New, Returning, VIP)
Segmentation column per order
Each query is commented in SQL for BigQuery
Software:
dbt-core
BigQuery
Git + GitLab
Looker Studio link below 
https://lookerstudio.google.com/reporting/22194c92-6f61-49b2-95e8-aedabf0e2ca6